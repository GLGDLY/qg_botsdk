# 简介

![](https://tcs.teambition.net/storage/312ha12da07c8e280abaa6e82390d9a30fa2?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY2MTE0NjIzOCwiaWF0IjoxNjYwNTQxNDM4LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMmhhMTJkYTA3YzhlMjgwYWJhYTZlODIzOTBkOWEzMGZhMiJ9.9WSy4WjMPb9AaHkbp0Z7cRS6LHlVUSj__CiqojTLnc0&download=qqguild.jpg)

这是qg_botsdk的帮助文档，Github库链接为：<https://github.com/GLGDLY/qg_botsdk>

## qg_botsdk 是什么？

qg_botsdk是一款轻量化、使用python进行编写的轻量应用级SDK，适用于制作QQ官方频道机器人，其定位为：专注于简洁、容易上手而且稳定的一款SDK。

点此前往注册QQ官方机器人：<https://q.qq.com/#/>

点此前往下载最新release：<https://github.com/GLGDLY/qg_botsdk/releases>

## 为什么选择 qg_botsdk ？

### 1. 简洁易上手的结构

qg_botsdk提供了非常简洁的组件格式和容易上手的交互式设计，仅需10行代码即可构建一个简单的程序：

```python
# qg_botsdk的一个简单工作流

from qg_botsdk import BOT, Model


def deliver(data: Model.MESSAGE):
    if '你好' in data.treated_msg:
        bot.api.send_msg(data.channel_id, '你好，世界', message_id=data.id)


if __name__ == '__main__':
    bot = BOT(bot_id='xxx', bot_token='xxx')
    bot.bind_msg(deliver, treated_data=True)
    bot.start()
```

除了简洁外，借助SDK内部的model库（`from qg_botsdk.model import Model`），在为数据添加model内的类型（`data: Model.MESSAGE`）后，即可以使用python内交互方式获取数据内的结构化子节，无需花费时间记忆和翻译官方Json字段，如下：

![](https://tcs.teambition.net/storage/312h04079b9ba97c71d1ebf09cbb23a21251?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY2MTE0NjIzOCwiaWF0IjoxNjYwNTQxNDM4LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMmgwNDA3OWI5YmE5N2M3MWQxZWJmMDljYmIyM2EyMTI1MSJ9.82TcXS_CXrqAHL-nia2JaiV5svrHzvhNr1UezNofLzw&download=image.png)

### 2. 无需学会asyncio也可使用

SDK很多时候都会要求使用asyncio编写接收事件的函数，但是否真的有这个必要？诚言，使用asyncio可以更有效优化程序性能，可以占用更少的内存来完成任务。但对于QQ频道机器人这个应用场景而言，是否有必要使用asyncio去优化性能呢？

答案是：没有必要。

异步编写的SDK除了同时强制用户必须同样使用asyncio编写，对新手较为不友好外；在当今技术发展迅速、电脑性能不断上升的情况下，小型程序对于运行性能其实并不需要有过多的追求；而在机器人普遍应用场景下，就算是完全没有异步的单线程运行，其实都已经可以完美应付当前的需求。基于以上观点，qg_botsdk分割出了有必要使用asyncio的部分，完全内嵌到SDK内部，而无需您再处理关于asyncio的异步内容。

但为了保证一定的响应速度，qg_botsdk在避免使用asyncio的情况下使用了同步的构建方式，保证了应用场景的反馈速度（测试中，即使是本身已有一秒5次网络请求的情况下，机器人仍然可以保证1秒内的场景反馈--包含了获取、处理、反馈消息）；而整体内存占用情况，在加入了2000个频道左右的情况下，占用稳定约为50-100MB左右。

使用qg_botsdk，您无需熟悉asyncio的编写方式，也可得到反馈速度相近甚至更迅速的机器人体验；而唯一您需要做的，便是编写机器人主体的响应内容部分。

当然，如果你觉得性能也是一个需要考虑的因素，那么sdk同样提供了异步的async版，两种模式任君选择。

### 3. 稳定的结构、统一的字段

对于我来说，我最烦的就是机器人跑着跑着动不动就抛异常崩溃，要我手动重开之余更影响机器人本身的运营稳定性。由此，qg_botsdk也继承了这个观念，只要不影响机器人运行，它便不会随便报错，只会在比如输入id和token错误之类的时候进行报错，保障机器人日常运行的稳定性。

同时，官方提供的API当中其实有很多割裂的位置、不统一字段。这里的例子比如官方发送消息的API中，发送消息的字段名叫`msg_id`，而引用消息的消息id字段名叫`messsage_id`；又比如以下的字段例子：

![](https://tcs.teambition.net/storage/312hc31c62ace0224f4116cfb87574defe91?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY2MTE0NjIzOCwiaWF0IjoxNjYwNTQxNDM4LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMmhjMzFjNjJhY2UwMjI0ZjQxMTZjZmI4NzU3NGRlZmU5MSJ9.rT_eVK2eBJWpf3hPnZnhspbO83CYbeg6nmha4tpc_Rk&download=%25K4%5BGVVZCWMW%24%60KAU%40SGBFC.png)

![](https://tcs.teambition.net/storage/312h4f610458b5b0549f0ed43bd49138ec71?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9hcHBJZCI6IjU5Mzc3MGZmODM5NjMyMDAyZTAzNThmMSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY2MTE0NjIzOCwiaWF0IjoxNjYwNTQxNDM4LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzMxMmg0ZjYxMDQ1OGI1YjA1NDlmMGVkNDNiZDQ5MTM4ZWM3MSJ9.VJjbZxTw7_9sOo7ZHVAD7cdxVnSDVLL8YrpVC6RGRno&download=A%5D~Q%5B)\_\_7BY3%7DPCHXD%40%40%40%24R.png "")

qg_botsdk则为大家统一地解决了这些问题，基本一致化了所有字段的名称，方便大家使用。

## 开始使用？

**{any}`马上开始！ <快速入门>`**
